<div class="row">
  <div class="col-md-12">
    <div class="section-header">
      <h3><%= I18n.t("registration.step12.title") %></h3>
    </div>
  </div>
</div>
<div class="row step23">
  <!-- <div class="col-md-2"></div> -->
  <div class="col-md-6 left-panel">
    <fieldset class="">
      <div class="row">
        <div class="col-md-10">
          <div class="price-range" id="price-range">
          </div>
          <div class="fixed-price" id="fixed-price">
          </div>
          <div class="question-block">
            <div class="row">
              <div class="col-md-10">
                <%= f.label :work_frequency, I18n.t("registration.step23.range.label3") %>
                <%= f.select :work_frequency, InstructorInfo.work_freq_notify_options(lang), {}, { class: 'select2' } %>
              </div>
            </div>
          </div>
          <div class="survey-btn-row">
            <button type="button" class="btn btn-default step-navigate pull-left" data-target="#step22" data-percentage='65%' ><%= I18n.t("registration.btn_back") %></button>
            <button type="button" class="btn btn-primary step-navigate main-btn pull-right next"  data-percentage='80%' data-target="#step26"><%= I18n.t("registration.btn_next") %></button>
          </div>
        </div>
      </div>
    </fieldset>
  </div>
  <div class="col-md-3 right-panel">
    <div class="green-box elepahnt step23">
      <%= image_tag "registration/step7-elephent.png"%>
      <p><%= I18n.t("registration.step23.elephant_text")%></p>
    </div>
  </div>
</div>

<script type="text/javascript">
$('#price-setter').on('click', function(){
  if($('input[name="instructor_info[recommended_price]"]:checked').val()=="true"){
    $('#price-range').html('')
    $('#fixed-price').html('')
    $('#price-range').append('<%= j render(partial: 'instructor_infos/steps/price/range', locals: {f: f, lang: lang}) %>')
    $( ".select2" ).select2({})
    managePrices("price-range-fields")
  }
  else{
    $('#fixed-price').html('')
    $('#price-range').html('')
    $('#fixed-price').append('<%= j render(partial: 'instructor_infos/steps/price/fix', locals: {f: f, lang: lang}) %>')
    $( ".select2" ).select2({})
    managePrices("fixed-price-fields")
  }
})

function managePrices(id){
  console.log("managePrices...", id)
  if($("select[name='instructor_info[consulting_tutor]']").val() == "1"){
    $("#"+id+" .consulting-service").removeClass('hidden')
  }
  if($("select[name='instructor_info[brainstorming_tutor]']").val() == "1"){
    $("#"+id+" .brainstorming-service").removeClass('hidden')
  }
  if($("select[name='instructor_info[writing_tutor]']").val() == "1"){
    $("#"+id+" .writing-service").removeClass('hidden')
  }
  if($("select[name='instructor_info[visa_consultant]']").val() == "1"){
    $("#"+id+" .visa-service").removeClass('hidden')
  }

  if($("select[name='instructor_info[consulting_tutor]']").val() == "0"){
    $("#"+id+" .consulting-service").addClass('hidden')
  }
  if($("select[name='instructor_info[brainstorming_tutor]']").val() == "0"){
    $("#"+id+" .brainstorming-service").addClass('hidden')
  }
  if($("select[name='instructor_info[writing_tutor]']").val() == "0"){
    $("#"+id+" .writing-service").addClass('hidden')
  }
  if($("select[name='instructor_info[visa_consultant]']").val() == "0"){
    $("#"+id+" .visa-service").addClass('hidden')
  }
}
</script>
